# ===========================================
# CALENDAR BOOKING PLATFORM - BACKEND CONFIG
# ===========================================
# Copy this file to .env and fill in your values.
# For Railway: Set these as environment variables in the dashboard.

# ===========================================
# REQUIRED - DATABASE
# ===========================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/calendar_booking

# ===========================================
# REQUIRED - AUTHENTICATION
# ===========================================
# Core API key (for external API access)
SERVICE_API_KEY=your-secure-api-key-here

# Doctor Portal JWT (generate: openssl rand -hex 32)
DOCTOR_PORTAL_JWT_SECRET=your-doctor-jwt-secret-min-32-chars

# Admin Portal JWT (generate: openssl rand -hex 32)
ADMIN_PORTAL_JWT_SECRET=your-admin-jwt-secret-min-32-chars

# Admin credentials
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=$2b$12$your-bcrypt-hash-here
# ADMIN_PASSWORD=YourPassword (optional, for local dev convenience)

# ===========================================
# REQUIRED - CHATBOT (OpenAI)
# ===========================================
OPENAI_API_KEY=sk-your-openai-api-key

# ===========================================
# REQUIRED - CORS
# ===========================================
# For local dev: http://localhost:5173
# For Railway: https://your-frontend.railway.app
CORS_ALLOW_ORIGINS=http://localhost:5173

# ===========================================
# OPTIONAL - SERVER
# ===========================================
PORT=8000
DEBUG=false
DEFAULT_TIMEZONE=Asia/Kolkata
APP_NAME=Calendar Booking Platform
APP_VERSION=1.0.0

# ===========================================
# OPTIONAL - CHATBOT SETTINGS
# ===========================================
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.3
OPENAI_MAX_TOKENS=1000
MAX_CONVERSATION_TURNS=10
MAX_CONVERSATION_HISTORY=50
CONVERSATION_TIMEOUT_MINUTES=30

# ===========================================
# OPTIONAL - GOOGLE CALENDAR (Disabled by default)
# ===========================================
DISABLE_CALENDAR_WORKERS=true
# Uncomment below if enabling Google Calendar sync:
# GOOGLE_CALENDAR_CREDENTIALS_PATH=./credentials/service-account.json
# GOOGLE_CALENDAR_DELEGATED_ADMIN_EMAIL=admin@yourdomain.com
# WEBHOOK_BASE_URL=https://your-backend.railway.app
# GOOGLE_CALENDAR_WEBHOOK_SECRET=your-webhook-secret

# ===========================================
# OPTIONAL - GOOGLE OAUTH (Doctor Login)
# ===========================================
# Uncomment if enabling Google OAuth for doctors:
# DOCTOR_PORTAL_OAUTH_CLIENT_ID=your-oauth-client-id
# DOCTOR_PORTAL_OAUTH_CLIENT_SECRET=your-oauth-client-secret
# DOCTOR_PORTAL_OAUTH_REDIRECT_URI=http://localhost:8000/portal/auth/oauth/google/callback
# DOCTOR_PORTAL_FRONTEND_CALLBACK_URL=http://localhost:5173/doctor/oauth/callback

# ===========================================
# OPTIONAL - SMS NOTIFICATIONS (Twilio)
# ===========================================
SMS_NOTIFICATIONS_ENABLED=false
# Uncomment if enabling SMS:
# TWILIO_ACCOUNT_SID=your-twilio-sid
# TWILIO_AUTH_TOKEN=your-twilio-token
# TWILIO_PHONE_NUMBER=+1234567890
# TWILIO_TEMPLATE_DOCTOR_BOOKING=HXxxxxxx
# TWILIO_TEMPLATE_DOCTOR_RESCHEDULE=HXxxxxxx
# TWILIO_TEMPLATE_DOCTOR_CANCEL=HXxxxxxx
# TWILIO_TEMPLATE_PATIENT_BOOKING=HXxxxxxx
# TWILIO_TEMPLATE_PATIENT_RESCHEDULE=HXxxxxxx
# TWILIO_TEMPLATE_PATIENT_CANCEL=HXxxxxxx

# ===========================================
# OPTIONAL - REDIS (for conversation state)
# ===========================================
# REDIS_URL=redis://localhost:6379

# ===========================================
# OPTIONAL - AVAILABILITY SEARCH
# ===========================================
MAX_AVAILABILITY_DAYS=30
MAX_AVAILABILITY_RESULTS=200

# ===========================================
# OPTIONAL - CLINIC INFO
# ===========================================
CLINIC_NAME=Medical Clinic
CLINIC_ADDRESS=123 Main Street, City

# ===========================================
# OPTIONAL - RATE LIMITING
# ===========================================
API_KEY_RATE_LIMIT_PER_MINUTE=120
API_KEY_RATE_LIMIT_BURST=30
