# ===========================================
# UNIFIED CALENDAR BOOKING PLATFORM CONFIG
# Single .env file for all services
# ===========================================

# ===========================================
# DATABASE
# ===========================================
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/calendar_booking_db

# ===========================================
# SERVER
# ===========================================
PORT=8000
DEBUG=false
DEFAULT_TIMEZONE=Asia/Kolkata

# ===========================================
# APPLICATION
# ===========================================
APP_NAME=Calendar Booking Platform
APP_VERSION=1.0.0

# ===========================================
# CORS (Unified Frontend URL)
# ===========================================
CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:3000

# ===========================================
# CORE API AUTHENTICATION
# ===========================================
SERVICE_API_KEY=your-secure-api-key-here
API_KEY_RATE_LIMIT_PER_MINUTE=120
API_KEY_RATE_LIMIT_BURST=30

# ===========================================
# DOCTOR PORTAL AUTHENTICATION
# ===========================================
DOCTOR_PORTAL_JWT_SECRET=your-doctor-portal-jwt-secret
DOCTOR_PORTAL_JWT_ALGORITHM=HS256
DOCTOR_PORTAL_ACCESS_TOKEN_EXPIRE_MINUTES=60
DOCTOR_PORTAL_REFRESH_TOKEN_EXPIRE_MINUTES=43200

# Google OAuth for Doctor Login (Optional)
DOCTOR_PORTAL_OAUTH_CLIENT_ID=
DOCTOR_PORTAL_OAUTH_CLIENT_SECRET=
DOCTOR_PORTAL_OAUTH_REDIRECT_URI=http://localhost:8000/portal/auth/oauth/google/callback
DOCTOR_PORTAL_FRONTEND_CALLBACK_URL=http://localhost:5173/doctor/oauth/callback

# ===========================================
# ADMIN PORTAL AUTHENTICATION
# ===========================================
ADMIN_PORTAL_JWT_SECRET=your-admin-portal-jwt-secret
ADMIN_PORTAL_JWT_ALGORITHM=HS256
ADMIN_PORTAL_ACCESS_TOKEN_EXPIRE_MINUTES=60
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD_HASH=$2b$12$your-bcrypt-hash-here
ADMIN_PASSWORD=YourAdminPassword

# ===========================================
# CHATBOT / OPENAI
# ===========================================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.3
OPENAI_MAX_TOKENS=1000
MAX_CONVERSATION_TURNS=10
MAX_CONVERSATION_HISTORY=50
CONVERSATION_TIMEOUT_MINUTES=30

# ===========================================
# GOOGLE CALENDAR (Disabled by default)
# ===========================================
DISABLE_CALENDAR_WORKERS=true
GOOGLE_CALENDAR_CREDENTIALS_PATH=./credentials/your-service-account.json
GOOGLE_CALENDAR_DELEGATED_ADMIN_EMAIL=your-admin@domain.com
WEBHOOK_BASE_URL=https://your-ngrok-url.ngrok-free.app
GOOGLE_CALENDAR_WEBHOOK_SECRET=your-webhook-secret

# ===========================================
# REDIS (Optional - for chatbot conversation state)
# ===========================================
REDIS_URL=redis://localhost:6379

# ===========================================
# RAG SERVICE (Optional)
# ===========================================
RAG_SERVICE_URL=http://localhost:8001/api/v1
RAG_SERVICE_API_KEY=your-rag-service-api-key

# ===========================================
# SMS NOTIFICATIONS (Twilio - Optional)
# ===========================================
SMS_NOTIFICATIONS_ENABLED=false
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Twilio Content Template IDs (Optional)
TWILIO_TEMPLATE_DOCTOR_BOOKING=
TWILIO_TEMPLATE_DOCTOR_RESCHEDULE=
TWILIO_TEMPLATE_DOCTOR_CANCEL=
TWILIO_TEMPLATE_PATIENT_BOOKING=
TWILIO_TEMPLATE_PATIENT_RESCHEDULE=
TWILIO_TEMPLATE_PATIENT_CANCEL=

# ===========================================
# AVAILABILITY SEARCH (Optional - has defaults)
# ===========================================
MAX_AVAILABILITY_DAYS=30
MAX_AVAILABILITY_RESULTS=200

# ===========================================
# CLINIC INFO
# ===========================================
CLINIC_NAME=Your Clinic Name
CLINIC_ADDRESS=123 Main Street, City

# ===========================================
# ADVANCED SETTINGS (Optional - all have defaults)
# ===========================================
# Uncomment and modify only if needed

# Allow starting without API key (ONLY for local dev, never in production)
# ALLOW_START_WITHOUT_API_KEY=false

# Calendar sync worker settings (when DISABLE_CALENDAR_WORKERS=false)
# CALENDAR_SYNC_MAX_RETRIES=5
# CALENDAR_SYNC_RETRY_BASE_SECONDS=15
# CALENDAR_SYNC_POLL_INTERVAL_SECONDS=5

# Calendar reconcile worker settings (when DISABLE_CALENDAR_WORKERS=false)
# CALENDAR_RECONCILE_ENABLED=true
# CALENDAR_RECONCILE_INTERVAL_SECONDS=900
# CALENDAR_RECONCILE_BATCH_SIZE=50
